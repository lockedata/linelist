<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Clean a data.frame — clean_data • linelist</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Clean a data.frame — clean_data" />

<meta property="og:description" content="This function applies several cleaning procedures to an input data.frame,
by standardising variable names, labels used categorical variables
(characters of factors), and setting dates to Date objects. Optionally, an
intelligent date search can be used on character strings to extract dates
from various formats mixed with other text. See details for more information." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">linelist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.32.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">linelist: package overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/linelist">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Clean a data.frame</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/linelist/blob/master/R/clean_data.R'><code>R/clean_data.R</code></a></small>
    <div class="hidden name"><code>clean_data.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function applies several cleaning procedures to an input <code>data.frame</code>,
by standardising variable names, labels used categorical variables
(characters of factors), and setting dates to <code>Date</code> objects. Optionally, an
intelligent date search can be used on character strings to extract dates
from various formats mixed with other text. See details for more information.</p>
    
    </div>

    <pre class="usage"><span class='fu'>clean_data</span>(<span class='no'>x</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>"_"</span>, <span class='kw'>force_Date</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>guess_dates</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>error_tolerance</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>wordlists</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>spelling_vars</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>sort_by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>warn_spelling</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>protect</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a <code>data.frame</code></p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>The separator used between words, and defaults to the underscore
<code>_</code>.</p></td>
    </tr>
    <tr>
      <th>force_Date</th>
      <td><p>a <code>logical</code> or <code>integer</code> vector indicating the columns .
If <code>logical</code>, indicating if <code>POSIXct</code> and <code>POSIXlt</code> objects should be
converted to <code>Date</code> objects; defaults to <code>TRUE</code>; you should use this if your
dates are only precise to the day (i.e. no time information within days).</p></td>
    </tr>
    <tr>
      <th>guess_dates</th>
      <td><p>a <code>logical</code> or <code>integer</code> vector indicating which columns
should be guessed , assuming these columns store character strings or
<code>factors</code>; this feature is experimental; see <code><a href='guess_dates.html'>guess_dates()</a></code> for more
information.</p></td>
    </tr>
    <tr>
      <th>error_tolerance</th>
      <td><p>a number between 0 and 1 indicating the proportion of
entries which cannot be identified as dates to be tolerated; if this
proportion is exceeded, the original vector is returned, and a message is
issued; defaults to 0.1 (10 percent)</p></td>
    </tr>
    <tr>
      <th>wordlists</th>
      <td><p>a data frame or named list of data frames with at least two
columns defining the word list to be used. If this is a data frame, a third
column must be present to split the wordlists by column in <code>x</code> (see
<code>spelling_vars</code>).</p></td>
    </tr>
    <tr>
      <th>spelling_vars</th>
      <td><p>character or integer. If <code>wordlists</code> is a data frame,
then this column in defines the columns in <code>x</code> corresponding to each
section of the <code>wordlists</code> data frame. This defaults to <code>3</code>, indicating the
third column is to be used.</p></td>
    </tr>
    <tr>
      <th>sort_by</th>
      <td><p>a character the column to be used for sorting the values in
each data frame. If the incoming variables are factors, this determines how
the resulting factors will be sorted.</p></td>
    </tr>
    <tr>
      <th>warn_spelling</th>
      <td><p>if <code>TRUE</code>, errors and warnings from <code><a href='clean_spelling.html'>clean_spelling()</a></code>
will be aggregated and presented for each column that issues them. The
default value is <code>FALSE</code>, which means that all errors and warnings will be
ignored.</p></td>
    </tr>
    <tr>
      <th>protect</th>
      <td><p>a logical or numeric vector defining the columns to protect
from any manipulation. Note: columns in <code>protect</code> will override any columns
in either <code>force_Date</code> or <code>guess_dates</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further arguments passed on to <code><a href='guess_dates.html'>guess_dates()</a></code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.frame</code> with standardised labels for characters and
factors.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <h3>Creating your wordlist</h3>
    When creating the wordlist for <code><a href='clean_variable_spelling.html'>clean_variable_spelling()</a></code>, it's important
to remember that the data will first be cleaned with
<code><a href='clean_variable_labels.html'>clean_variable_labels()</a></code>, which will remove any capitalisation, accents,
and replace all punctuation and spaces with "_".
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>This function wraps three other functions:
<code><a href='clean_variable_names.html'>clean_variable_names()</a></code> - to handle variable names,
<code><a href='clean_variables.html'>clean_variables()</a></code> - to handle character/factor variables,
<code><a href='clean_dates.html'>clean_dates()</a></code> - to handle dates.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## make toy data</span>
<span class='no'>toy_data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='messy_data.html'>messy_data</a></span>(<span class='fl'>20</span>)

<span class='co'>## show data</span>
<span class='no'>toy_data</span></div><div class='output co'>#&gt;       'ID Date of Onset. DisCharge.. GENDER_  Épi.Case_définition
#&gt; 1  fnkgjs     2018-01-11  21/01/2018   FEMALE           confirmed
#&gt; 2  vbjzfx     2018-01-10  20/01/2018   Female           suspected
#&gt; 3  ciqafy     2018-01-03  13/01/2018   female            probable
#&gt; 4  miqnfj     2018-01-09  19/01/2018   Female           suspected
#&gt; 5  fikzdx     2018-01-07  17/01/2018     Male            PROBABLE
#&gt; 6  llwgke     2018-01-11  21/01/2018   female          Not.a.Case
#&gt; 7  wpekae     2018-01-05  15/01/2018   female           confirmed
#&gt; 8  biahsq     2018-01-10  20/01/2018     Male          not a case
#&gt; 9  zrdzhp     2018-01-04  14/01/2018   Female            probable
#&gt; 10 gdurww     2018-01-08  18/01/2018     Male           Confirmed
#&gt; 11 zhapbd     2018-01-03  13/01/2018   female           Confirmed
#&gt; 12 afnvrv     2018-01-04  14/01/2018   Female           confirmed
#&gt; 13 kqcbzo     2018-01-11  21/01/2018   female           Confirmed
#&gt; 14 lnajcu     2018-01-05  15/01/2018     Male            probable
#&gt; 15 umcose     2018-01-07  17/01/2018   FEMALE          not a case
#&gt; 16 yzzpjy     2018-01-10  20/01/2018   female          Not.a.Case
#&gt; 17 udajyn     2018-01-11  21/01/2018     male           Confirmed
#&gt; 18 dzieiv     2018-01-03  13/01/2018   FEMALE         suspected  
#&gt; 19 hkpxva     2018-01-11  21/01/2018     MALE           confirmed
#&gt; 20 xxrain     2018-01-10  20/01/2018     male         suspected  
#&gt;           messy/dates       lat      lon
#&gt; 1  that's 24/12/1989! 11.851853 48.89684
#&gt; 2          2018_10_17 10.650441 47.48114
#&gt; 3          2018 10 19 13.107982 47.09722
#&gt; 4          2018 10 19 15.430583 49.05794
#&gt; 5          01-12-2001 12.116750 49.60121
#&gt; 6     // 24//12//1989 14.491968 48.96044
#&gt; 7                &lt;NA&gt; 13.425856 47.85849
#&gt; 8              female 10.347720 47.01454
#&gt; 9              female 16.337760 48.28741
#&gt; 10               &lt;NA&gt; 12.747550 47.73664
#&gt; 11         2018-10-18  8.846234 48.98780
#&gt; 12         01-12-2001 16.345458 48.29515
#&gt; 13    // 24//12//1989 13.020115 49.54814
#&gt; 14         01-12-2001 15.843829 47.61313
#&gt; 15         2018-10-18 13.535986 48.07265
#&gt; 16             female 13.807798 47.61683
#&gt; 17               &lt;NA&gt; 11.310754 47.93489
#&gt; 18               male 13.833525 48.83712
#&gt; 19    // 24//12//1989 10.071308 49.33979
#&gt; 20         2018_10_17 12.038780 47.44533</div><div class='input'>

<span class='co'>## clean variable names, store in new object, show results</span>
<span class='no'>clean_data</span> <span class='kw'>&lt;-</span> <span class='fu'>clean_data</span>(<span class='no'>toy_data</span>, <span class='kw'>error_tolerance</span> <span class='kw'>=</span> <span class='fl'>0.1</span>)
<span class='no'>clean_data</span></div><div class='output co'>#&gt;        id date_of_onset  discharge gender epi_case_definition       messy_dates
#&gt; 1  fnkgjs    2018-01-11 2018-01-21 female           confirmed that_s_24_12_1989
#&gt; 2  vbjzfx    2018-01-10 2018-01-20 female           suspected        2018_10_17
#&gt; 3  ciqafy    2018-01-03 2018-01-13 female            probable        2018_10_19
#&gt; 4  miqnfj    2018-01-09 2018-01-19 female           suspected        2018_10_19
#&gt; 5  fikzdx    2018-01-07 2018-01-17   male            probable        01_12_2001
#&gt; 6  llwgke    2018-01-11 2018-01-21 female          not_a_case        24_12_1989
#&gt; 7  wpekae    2018-01-05 2018-01-15 female           confirmed              &lt;NA&gt;
#&gt; 8  biahsq    2018-01-10 2018-01-20   male          not_a_case            female
#&gt; 9  zrdzhp    2018-01-04 2018-01-14 female            probable            female
#&gt; 10 gdurww    2018-01-08 2018-01-18   male           confirmed              &lt;NA&gt;
#&gt; 11 zhapbd    2018-01-03 2018-01-13 female           confirmed        2018_10_18
#&gt; 12 afnvrv    2018-01-04 2018-01-14 female           confirmed        01_12_2001
#&gt; 13 kqcbzo    2018-01-11 2018-01-21 female           confirmed        24_12_1989
#&gt; 14 lnajcu    2018-01-05 2018-01-15   male            probable        01_12_2001
#&gt; 15 umcose    2018-01-07 2018-01-17 female          not_a_case        2018_10_18
#&gt; 16 yzzpjy    2018-01-10 2018-01-20 female          not_a_case            female
#&gt; 17 udajyn    2018-01-11 2018-01-21   male           confirmed              &lt;NA&gt;
#&gt; 18 dzieiv    2018-01-03 2018-01-13 female           suspected              male
#&gt; 19 hkpxva    2018-01-11 2018-01-21   male           confirmed        24_12_1989
#&gt; 20 xxrain    2018-01-10 2018-01-20   male           suspected        2018_10_17
#&gt;          lat      lon
#&gt; 1  11.851853 48.89684
#&gt; 2  10.650441 47.48114
#&gt; 3  13.107982 47.09722
#&gt; 4  15.430583 49.05794
#&gt; 5  12.116750 49.60121
#&gt; 6  14.491968 48.96044
#&gt; 7  13.425856 47.85849
#&gt; 8  10.347720 47.01454
#&gt; 9  16.337760 48.28741
#&gt; 10 12.747550 47.73664
#&gt; 11  8.846234 48.98780
#&gt; 12 16.345458 48.29515
#&gt; 13 13.020115 49.54814
#&gt; 14 15.843829 47.61313
#&gt; 15 13.535986 48.07265
#&gt; 16 13.807798 47.61683
#&gt; 17 11.310754 47.93489
#&gt; 18 13.833525 48.83712
#&gt; 19 10.071308 49.33979
#&gt; 20 12.038780 47.44533</div><div class='input'>
<span class='no'>clean_data2</span> <span class='kw'>&lt;-</span> <span class='fu'>clean_data</span>(<span class='no'>toy_data</span>, <span class='kw'>error_tolerance</span> <span class='kw'>=</span> <span class='fl'>0.8</span>)
<span class='no'>clean_data2</span></div><div class='output co'>#&gt;        id date_of_onset  discharge gender epi_case_definition messy_dates
#&gt; 1  fnkgjs    2018-01-11 2018-01-21 female           confirmed  1989-12-24
#&gt; 2  vbjzfx    2018-01-10 2018-01-20 female           suspected  2018-10-17
#&gt; 3  ciqafy    2018-01-03 2018-01-13 female            probable  2018-10-19
#&gt; 4  miqnfj    2018-01-09 2018-01-19 female           suspected  2018-10-19
#&gt; 5  fikzdx    2018-01-07 2018-01-17   male            probable  2001-12-01
#&gt; 6  llwgke    2018-01-11 2018-01-21 female          not_a_case  1989-12-24
#&gt; 7  wpekae    2018-01-05 2018-01-15 female           confirmed        &lt;NA&gt;
#&gt; 8  biahsq    2018-01-10 2018-01-20   male          not_a_case        &lt;NA&gt;
#&gt; 9  zrdzhp    2018-01-04 2018-01-14 female            probable        &lt;NA&gt;
#&gt; 10 gdurww    2018-01-08 2018-01-18   male           confirmed        &lt;NA&gt;
#&gt; 11 zhapbd    2018-01-03 2018-01-13 female           confirmed  2018-10-18
#&gt; 12 afnvrv    2018-01-04 2018-01-14 female           confirmed  2001-12-01
#&gt; 13 kqcbzo    2018-01-11 2018-01-21 female           confirmed  1989-12-24
#&gt; 14 lnajcu    2018-01-05 2018-01-15   male            probable  2001-12-01
#&gt; 15 umcose    2018-01-07 2018-01-17 female          not_a_case  2018-10-18
#&gt; 16 yzzpjy    2018-01-10 2018-01-20 female          not_a_case        &lt;NA&gt;
#&gt; 17 udajyn    2018-01-11 2018-01-21   male           confirmed        &lt;NA&gt;
#&gt; 18 dzieiv    2018-01-03 2018-01-13 female           suspected        &lt;NA&gt;
#&gt; 19 hkpxva    2018-01-11 2018-01-21   male           confirmed  1989-12-24
#&gt; 20 xxrain    2018-01-10 2018-01-20   male           suspected  2018-10-17
#&gt;          lat      lon
#&gt; 1  11.851853 48.89684
#&gt; 2  10.650441 47.48114
#&gt; 3  13.107982 47.09722
#&gt; 4  15.430583 49.05794
#&gt; 5  12.116750 49.60121
#&gt; 6  14.491968 48.96044
#&gt; 7  13.425856 47.85849
#&gt; 8  10.347720 47.01454
#&gt; 9  16.337760 48.28741
#&gt; 10 12.747550 47.73664
#&gt; 11  8.846234 48.98780
#&gt; 12 16.345458 48.29515
#&gt; 13 13.020115 49.54814
#&gt; 14 15.843829 47.61313
#&gt; 15 13.535986 48.07265
#&gt; 16 13.807798 47.61683
#&gt; 17 11.310754 47.93489
#&gt; 18 13.833525 48.83712
#&gt; 19 10.071308 49.33979
#&gt; 20 12.038780 47.44533</div><div class='input'>
<span class='co'>## clean variable names, but keep our "messy/dates" column</span>
<span class='no'>to_protect</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>toy_data</span>) <span class='kw'>%in%</span> <span class='st'>"messy/dates"</span>
<span class='no'>clean_data3</span> <span class='kw'>&lt;-</span> <span class='fu'>clean_data</span>(<span class='no'>toy_data</span>,
                          <span class='kw'>error_tolerance</span> <span class='kw'>=</span> <span class='fl'>0.8</span>,
                          <span class='kw'>protect</span> <span class='kw'>=</span> <span class='no'>to_protect</span>
                         )
<span class='no'>clean_data3</span></div><div class='output co'>#&gt;        id date_of_onset  discharge gender epi_case_definition
#&gt; 1  fnkgjs    2018-01-11 2018-01-21 female           confirmed
#&gt; 2  vbjzfx    2018-01-10 2018-01-20 female           suspected
#&gt; 3  ciqafy    2018-01-03 2018-01-13 female            probable
#&gt; 4  miqnfj    2018-01-09 2018-01-19 female           suspected
#&gt; 5  fikzdx    2018-01-07 2018-01-17   male            probable
#&gt; 6  llwgke    2018-01-11 2018-01-21 female          not_a_case
#&gt; 7  wpekae    2018-01-05 2018-01-15 female           confirmed
#&gt; 8  biahsq    2018-01-10 2018-01-20   male          not_a_case
#&gt; 9  zrdzhp    2018-01-04 2018-01-14 female            probable
#&gt; 10 gdurww    2018-01-08 2018-01-18   male           confirmed
#&gt; 11 zhapbd    2018-01-03 2018-01-13 female           confirmed
#&gt; 12 afnvrv    2018-01-04 2018-01-14 female           confirmed
#&gt; 13 kqcbzo    2018-01-11 2018-01-21 female           confirmed
#&gt; 14 lnajcu    2018-01-05 2018-01-15   male            probable
#&gt; 15 umcose    2018-01-07 2018-01-17 female          not_a_case
#&gt; 16 yzzpjy    2018-01-10 2018-01-20 female          not_a_case
#&gt; 17 udajyn    2018-01-11 2018-01-21   male           confirmed
#&gt; 18 dzieiv    2018-01-03 2018-01-13 female           suspected
#&gt; 19 hkpxva    2018-01-11 2018-01-21   male           confirmed
#&gt; 20 xxrain    2018-01-10 2018-01-20   male           suspected
#&gt;           messy/dates       lat      lon
#&gt; 1  that's 24/12/1989! 11.851853 48.89684
#&gt; 2          2018_10_17 10.650441 47.48114
#&gt; 3          2018 10 19 13.107982 47.09722
#&gt; 4          2018 10 19 15.430583 49.05794
#&gt; 5          01-12-2001 12.116750 49.60121
#&gt; 6     // 24//12//1989 14.491968 48.96044
#&gt; 7                &lt;NA&gt; 13.425856 47.85849
#&gt; 8              female 10.347720 47.01454
#&gt; 9              female 16.337760 48.28741
#&gt; 10               &lt;NA&gt; 12.747550 47.73664
#&gt; 11         2018-10-18  8.846234 48.98780
#&gt; 12         01-12-2001 16.345458 48.29515
#&gt; 13    // 24//12//1989 13.020115 49.54814
#&gt; 14         01-12-2001 15.843829 47.61313
#&gt; 15         2018-10-18 13.535986 48.07265
#&gt; 16             female 13.807798 47.61683
#&gt; 17               &lt;NA&gt; 11.310754 47.93489
#&gt; 18               male 13.833525 48.83712
#&gt; 19    // 24//12//1989 10.071308 49.33979
#&gt; 20         2018_10_17 12.038780 47.44533</div><div class='input'>
<span class='co'>## Using a wordlist  -------------------------------</span>

<span class='co'># location data with mis-spellings, French, and English.</span>
<span class='no'>messy_locations</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"hopsital"</span>, <span class='st'>"h\u00f4pital"</span>, <span class='st'>"hospital"</span>,
                     <span class='st'>"m\u00e9dical"</span>, <span class='st'>"clinic"</span>,
                     <span class='st'>"feild"</span>, <span class='st'>"field"</span>)
<span class='no'>toy_data</span>$<span class='no'>location</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/factor'>factor</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sample'>sample</a></span>(<span class='no'>messy_locations</span>, <span class='fl'>20</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))

<span class='co'># show data </span>
<span class='no'>toy_data</span>$<span class='no'>location</span></div><div class='output co'>#&gt;  [1] feild    hospital hôpital  médical  feild    hospital feild    clinic  
#&gt;  [9] hospital clinic   field    field    clinic   feild    médical  médical 
#&gt; [17] hopsital médical  hospital feild   
#&gt; Levels: clinic feild field hôpital hopsital hospital médical</div><div class='input'>

<span class='co'># add a wordlist</span>
<span class='no'>wordlist</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
  <span class='kw'>from</span>  <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"hopsital"</span>, <span class='st'>"hopital"</span>,  <span class='st'>"medical"</span>, <span class='st'>"feild"</span>),
  <span class='kw'>to</span>    <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"hospital"</span>, <span class='st'>"hospital"</span>, <span class='st'>"clinic"</span>,  <span class='st'>"field"</span>),
  <span class='kw'>variables</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='st'>"location"</span>, <span class='fl'>4</span>),
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)

<span class='no'>clean_data4</span> <span class='kw'>&lt;-</span> <span class='fu'>clean_data</span>(<span class='no'>toy_data</span>,
                          <span class='kw'>wordlists</span>     <span class='kw'>=</span> <span class='no'>wordlist</span>,
                          <span class='kw'>spelling_vars</span> <span class='kw'>=</span> <span class='st'>"variables"</span>
                         )
<span class='no'>clean_data4</span></div><div class='output co'>#&gt;        id date_of_onset  discharge gender epi_case_definition messy_dates
#&gt; 1  fnkgjs    2018-01-11 2018-01-21 female           confirmed  1989-12-24
#&gt; 2  vbjzfx    2018-01-10 2018-01-20 female           suspected  2018-10-17
#&gt; 3  ciqafy    2018-01-03 2018-01-13 female            probable  2018-10-19
#&gt; 4  miqnfj    2018-01-09 2018-01-19 female           suspected  2018-10-19
#&gt; 5  fikzdx    2018-01-07 2018-01-17   male            probable  2001-12-01
#&gt; 6  llwgke    2018-01-11 2018-01-21 female          not_a_case  1989-12-24
#&gt; 7  wpekae    2018-01-05 2018-01-15 female           confirmed        &lt;NA&gt;
#&gt; 8  biahsq    2018-01-10 2018-01-20   male          not_a_case        &lt;NA&gt;
#&gt; 9  zrdzhp    2018-01-04 2018-01-14 female            probable        &lt;NA&gt;
#&gt; 10 gdurww    2018-01-08 2018-01-18   male           confirmed        &lt;NA&gt;
#&gt; 11 zhapbd    2018-01-03 2018-01-13 female           confirmed  2018-10-18
#&gt; 12 afnvrv    2018-01-04 2018-01-14 female           confirmed  2001-12-01
#&gt; 13 kqcbzo    2018-01-11 2018-01-21 female           confirmed  1989-12-24
#&gt; 14 lnajcu    2018-01-05 2018-01-15   male            probable  2001-12-01
#&gt; 15 umcose    2018-01-07 2018-01-17 female          not_a_case  2018-10-18
#&gt; 16 yzzpjy    2018-01-10 2018-01-20 female          not_a_case        &lt;NA&gt;
#&gt; 17 udajyn    2018-01-11 2018-01-21   male           confirmed        &lt;NA&gt;
#&gt; 18 dzieiv    2018-01-03 2018-01-13 female           suspected        &lt;NA&gt;
#&gt; 19 hkpxva    2018-01-11 2018-01-21   male           confirmed  1989-12-24
#&gt; 20 xxrain    2018-01-10 2018-01-20   male           suspected  2018-10-17
#&gt;          lat      lon location
#&gt; 1  11.851853 48.89684    field
#&gt; 2  10.650441 47.48114 hospital
#&gt; 3  13.107982 47.09722 hospital
#&gt; 4  15.430583 49.05794   clinic
#&gt; 5  12.116750 49.60121    field
#&gt; 6  14.491968 48.96044 hospital
#&gt; 7  13.425856 47.85849    field
#&gt; 8  10.347720 47.01454   clinic
#&gt; 9  16.337760 48.28741 hospital
#&gt; 10 12.747550 47.73664   clinic
#&gt; 11  8.846234 48.98780    field
#&gt; 12 16.345458 48.29515    field
#&gt; 13 13.020115 49.54814   clinic
#&gt; 14 15.843829 47.61313    field
#&gt; 15 13.535986 48.07265   clinic
#&gt; 16 13.807798 47.61683   clinic
#&gt; 17 11.310754 47.93489 hospital
#&gt; 18 13.833525 48.83712   clinic
#&gt; 19 10.071308 49.33979 hospital
#&gt; 20 12.038780 47.44533    field</div><div class='input'><span class='no'>clean_data4</span>$<span class='no'>location</span></div><div class='output co'>#&gt;  [1] field    hospital hospital clinic   field    hospital field    clinic  
#&gt;  [9] hospital clinic   field    field    clinic   field    clinic   clinic  
#&gt; [17] hospital clinic   hospital field   
#&gt; Levels: hospital clinic field</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Thibaut Jombart, Zhian N. Kamvar</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thibaut Jombart, Zhian N. Kamvar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

